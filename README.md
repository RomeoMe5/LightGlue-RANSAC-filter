# Система ориентации по видео с привязкой к статичной карте: Руководство пользователя

## Описание системы:
`main.py` реализует алгоритм фильтра частиц для определения местоположения БПЛА на основе сравнения изображений с БПЛА и спутниковой карты. Система использует SuperPoint для извлечения признаков из изображений, LightGlue для сопоставления признаков и RANSAC для отсеивания ошибочных соответствий. Определенное смещение используется для корректировки местоположения частиц и оценки траектории БПЛА.

## Архитектура системы
Система состоит из следующих компонентов:
- **Загрузка данных**: Загрузка спутниковой карты и изображений с БПЛА.
- **Извлечение признаков**: Использование SuperPoint для выделения ключевых точек на изображениях.
- **Сопоставление признаков**: LightGlue для определения соответствия ключевых точек на изображениях с БПЛА и спутниковой карты.
- **RANSAC**: Алгоритм RANSAC используется для отсеивания ошибочных соответствий и определения аффинного преобразования между изображениями.
- **Фильтр частиц**: Реализация алгоритма фильтра частиц для оценки местоположения БПЛА.
- **Оценка траектории**: Определение траектории БПЛА на основе оценок местоположения.

## Установка среды:
1. Установите необходимые пакеты из файла `requirements.txt`:
   ```bash
   python -m pip install -r requirements.txt
2. Склонируйте папку LightGlue для использования в проекте и смените директорию:
   ```bash
   !git clone --quiet https://github.com/cvg/LightGlue/
   %cd LightGlue
## Подготовка данных:
Разместите спутниковую карту в папку /Maps и изображения с БПЛА в папку /Flight_1.
## Запуск скрипта:
Запустите скрипт main.py.
## Примеры использования:
Скрипт Particle_filter.py содержит пример использования системы для оценки траектории БПЛА на основе 30 изображений.
## Вывод скрипта включает:
1. Визуализацию соответствия ключевых точек на изображениях с БПЛА и спутниковой карты.
2. Оценку местоположения БПЛА для каждого кадра.
3. График AED (Average Euclidean Distance) между реальной и оцененной траекторией.
## Дополнительные замечания:
1. Количество частиц, шум измерения и другие параметры алгоритма фильтра частиц можно настроить в коде.
2. Для обработки большого количества изображений рекомендуется использовать более мощное оборудование.
3. Точность оценки траектории зависит от качества входных данных и настроек алгоритма фильтра частиц.
